<!DOCTYPE html>
<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>Впорядкування музики ч.2</title>
<meta content="Впорядкування музики ч.2" itemprop="description" property="og:title">
<meta content="В цій статті я описав як можна швидко поперейменовувати файли під заданий шаблон та як швидко і авто" itemprop="name" name="description" property="og:description">
<meta content="http://lukom.org/blog/music-conv-routine" property="og:url">
<meta content="http://lukom.org/system/blog-images/music_conv_before.gif" property="og:image">
<meta content="article" property="og:type">
<meta content="100001353345404" property="fb:admins">
<meta content="143733555820368" property="fb:app_id">
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="Ylw+Tze0rMoo1Rae0UvBVcB+X4NI8iVCIZXGwBEfWbZ4NBNjJg3maJeASQB7KMTXQX1XYCASel/hGQ1NxWYspA==" />
<link href="/rss.xml" rel="alternate" title="Найсвіжіші новини на Lukom.Org" type="application/rss+xml">
<link href="/favicon.ico" rel="shortcut icon">
<link href="http://lukom.org/blog/music-conv-routine" rel="canonical">
<link rel="stylesheet" media="all" href="/assets/application-62b843cdf11b7d1c3ec4770e46cf10db6ab85cce990700bd6f2bdcb79a5821e8.css" />


<script src="/assets/application-d74f2472fca0149ef13a2494ca651a42cabe54050dbec767cf4fca412ec93b3f.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-19834031-1', 'lukom.org');
  ga('send', 'pageview');
</script>

<script async="async" src="https://apis.google.com/js/platform.js">
{lang: 'uk'}
</script>

</head>
<body>
<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=143733555820368";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>
<div class="header-toolbar">
<div class="page-wrap">
<ul>
<li><a href="/">Головна</a></li>
<li><a href="/pages/author">Автор</a></li>
</ul>
</div>
</div>
<div class="header">
<div class="page-wrap">
<div class="logo">
<div class="logo-text">Вперед і вгору!</div>
<div class="logo-subtext">блог Лукома</div>
</div>
<div class="about-author">
<div class="author-speak">
Привіт, мене звати Лев Лукомський
<br/> я займаюсь розробкою веб-сайтів та ігор
<br/> ..і записую в блог все що взбреде в голову :)
<a href="/pages/author">Автор</a>
</div>
<div class="follow-links">
<a class="rss-big-link" target="_blank" href="/rss.xml">RSS</a>
</div>
<div class="contacts-links">
<a title="Джмейл" class="gmail ico" href="mailto:lllukom@gmail.com">Gmail</a>
<a title="Цукердрук" class="facebook ico" target="_blank" href="https://www.facebook.com/llukomsky">Facebook</a>
<a title="Ґуґлоплюсик" class="gplus ico" target="_blank" href="https://plus.google.com/+%D0%9B%D0%B5%D0%B2%D0%9B%D1%83%D0%BA%D0%BE%D0%BC%D1%81%D1%8C%D0%BA%D0%B8%D0%B9">Google Plus</a>
</div>
</div>
</div>
</div>
<div class="main-menu">
<div class="page-wrap">
<ul>
<li><a href="/category/rozrobka">Розробка (22)</a></li>
<li><a href="/category/rizne">Різне (52)</a></li>
<li><a href="/category/tsikavynky">Цікавинки (12)</a></li>
<li><a href="/category/veseloshchi">Веселощі (14)</a></li>
<li>
<a href="/category/novyny-saitu">Новини сайту</a>
</li>
</ul>
</div>
</div>

<div class="torso">
<div class="page-wrap">
<div class="page-content">
<div class="flash-messages">
</div>

<div class="box main-box post rizne">
<h1 class="box-title">Впорядкування музики ч.2</h1>
<div class="box-content">
<div class="post-meta">
<span class="link category-link">
<a href="/category/rizne">Різне</a>
</span>
<span class="link tag-link">Музика, Лайфхаки, Проги, Автоматика, AIMP, Total Commander</span>
<span class="link date-link">2009.02.04</span>
<span class="link edited-link">Відредаговано: 2016.05.07</span>
</div>
<div class="post-content"><p>
	Як і обіцяв - продовження <a href="/blog/music-naming-conventions">статті про впорядкування музики</a>. В цій частині розкажу детальніше про те як швидко все поперейменовувати і як швидко заповнити медіа-теги.
</p>
<p>
	У скачаному RAR-архіві виявилась папка з музикою, але є одна проблема притаманна RAR-архівам - в них проблема з буквою &laquo;i&raquo;, у назвах файлів замість букви &laquo;і&raquo; стоїть знак підкреслення &laquo;_&raquo;:
</p>
<div class="box-images">
	<img alt="" onclick="zoomImg(this, 100)" src="/system/blog-images/music_conv_before.gif" style="cursor: pointer;" width="100"/>
</div>
<p>
	Щоб привести все в порядок можна перейменовувати кожен файлик окремо, але набагато легше і швидше застосувати чудовий інструмент перейменовування в Total Commander&#39;і. Для цього виділяємо всі наші mp3-файли і тиснемо <kbd>Ctrl</kbd> + <kbd>M</kbd>. Отримуємо вікно:
</p>
<div class="box-images">
	<img alt="" onclick="zoomImg(this, 100)" src="/system/blog-images/tc_mrt_1.gif" style="cursor: pointer;" width="100"/>
</div>
<p>
	В полі <tt>&laquo;Search for:&raquo;</tt> вписуємо <tt>&laquo;_&raquo;</tt>;
	<br/>В полі <tt>&laquo;Replace with:&raquo;</tt> вписуємо <tt>&laquo;і&raquo;</tt>;
	<br/>Тиснемо <tt>Start</tt>.
</p>
<p>
	Ура, проблему вирішено. Тепер добре було б перейменувати файли за шаблоном <tt>%Гурт% - %Заголовок%</tt> із попередньої статті, але інформація про номери треків втратиться, оскільки медіа-теги не заповнені. Щоб переконатись, що медіа-теги не заповнені достатньо підвести підвести мишку до будь-якого файлу і переконатись що у випливаючій підказці є мало інформації, або відобразити панель у Total Commander`і з музичними колонками, для цього знадобиться плагін AudioInfo:
</p>
<div class="box-images">
	<img alt="" onclick="zoomImg(this, 100)" src="/system/blog-images/tc_audioinfo_columns.gif" style="cursor: pointer;" width="100"/>
</div>
<p>
	Отже нам потрібно заповнити медіа-теги, причому бажано зробити це автоматично, тобто зробити так, щоб номери треків із назв файлів автоматично повставлялись у відповідні місця в тегах. Чим скористатись?
</p>
<p>
	В цьому ділі дуже допоможе програвач AIMP. Перетягнемо папку з альбомом в плейлист AIMP&#39;а. Тепер в плейлисті натиснемо на назву папки, щоб виділились вс і треки, і у випливаючому меню виберемо <tt>Надіслати файли &gt; редактор тегів</tt>. Виділимо усі файли у редакторі тегів ( <kbd>Ctrl</kbd> + <kbd>A</kbd> ):
</p>
<div class="box-images">
	<img alt="" onclick="zoomImg(this, 100)" src="/system/blog-images/aimp_ate_1.gif" style="cursor: pointer;" width="100"/>
</div>
<p>
	Тепер тиснемо кнопку AutoTag. У вікні що з&#39;явилось вписуємо <tt>%track%. %title%</tt>, оскільки файли в нас названі саме за таким шаблоном (напприклад перший файл має назву &laquo;1. Останній літній дощ&raquo;):
</p>
<div class="box-images">
	<img alt="" onclick="zoomImg(this, 100)" src="/system/blog-images/aimp_ate_2.gif" style="cursor: pointer;" width="100"/>
</div>
<p>
	Тиснемо OK і вуаля - у всіх треків заповнені заголовок і номер треку. Тиснемо &laquo;Зберегти&raquo;.
	<br/>Тепер заповнюємо решта тегів у розділі Basic:
</p>
<div class="box-images">
	<img alt="" onclick="zoomImg(this, 100)" src="/system/blog-images/aimp_ate_3.gif" style="cursor: pointer;" width="100"/>
</div>
<p>
	Незабуваємо натиснути &laquo;Зберегти&raquo;, інакше зміни не збережуться.
	<br/>Ура, медіа-теги заповнено! Тепер потрібно перейменувати файли. Для цього найлегше скористатись тим же ж AIMP-івським редактором тегів і натиснути кнопку &laquo;Перейменувати&raquo;, але я хочу продемонструвати можливості продвинутого перейменовування в Total Commander&#39;і :) . Отже повертаємося до TC, виділяємо mp3-файли і тиснемо <kbd>Ctrl</kbd> + <kbd>M</kbd>. Нам потрібно перейменувати файли з &laquo;1. Останній літній дощ&raquo; в &laquo;Піккардійська Терція - Останній літній дощ&raquo;. Для цього є 2 способи.
</p>
<p>
	1)
	<br/>В полі <tt>&laquo;Search for:&raquo;</tt> вписуємо <tt>&laquo;\\d\\d?\\. (.*)&raquo;</tt>;
	<br/>В полі <tt>&laquo;Replace with:&raquo;</tt> вписуємо <tt>&laquo;Піккардійська Терція - $1&raquo;</tt>;
	<br/>Відзначаєм галочку <tt>&laquo;RegExp&raquo;</tt>;
</p>
<div class="box-images">
	<img alt="" onclick="zoomImg(this, 100)" src="/system/blog-images/tc_mrt_2.gif" style="cursor: pointer;" width="100"/>
</div>
<p>
	В цьому перейменовуванні я використав Регулярні вирази. Це такі вирази, які допомагають нам описати і виділити те, що ми шукаємо в певній стрічці. Про це написано дуже багато статтей в інтернеті, кому стане цікаво (як мені свого часу стало цікаво) той не поліниться і пошукає :) Бо рег. вирази це велика сила! Поясню свій регулярний вираз:
	<br/><tt>\\d</tt> - знак підстановки. Позначає будь-яку цифру (0-9).
	<br/><tt>\\d?</tt> - це відноситься до другої цифри. Знак питання означає що вона може бути, а може й не бути.
	<br/><tt>\\.</tt> - крапка позначає будь-який символ. Але в даному випадку нам потрібно виділити суто крапку. Тому, щоб вона не вважалась спец-символом, потрібно перед нею поставити слеш.
	<br/><tt>.*</tt> - це означає, що ми виділяємо всі символи до кінця рядка
	<br/><tt>(.*)</tt> - дужки означають, що ми запам&#39;ятовуємо наше виділення в пам&#39;ять, і воно буде доступне нам під номером 1 (другі дужки будуть під номером 2, і т.д.)
	<br/><tt>$1</tt> - сюди вставляється те, що знаходиться в пам&#39;яті під номером 1 (в даному випадку заголовок треку)
</p>
<p>
	На перший погляд рег. вирази дуже складні, але насправді це дуже потужний інструмент і можуть дуже допомогти в повсякденному перейменовуванні файлів та й взагалі для пошуку/заміни тексту.
</p>
<p>
	2)
	<br/>Поле <tt>&laquo;Search for:&raquo;</tt> робимо пустим;
	<br/>Поле <tt>&laquo;Replace with:&raquo;</tt> також робимо пустим;
	<br/>Натискаємо на кнопку <tt>&laquo;[=?] Plugin&raquo;</tt> і у випливаючому меню вибираємо <tt>media -&gt; artist</tt>;
	<br/>У полі <tt>&laquo;Rename mask: file name&raquo;</tt> пересуваємо курсор в кінець і дописуємо розділювач тире з двома пробілами (<tt>&quot; - &quot;</tt>).
	<br/>Знову Натискаємо на кнопку <tt>&laquo;[=?] Plugin&raquo;</tt> і у випливаючому меню вибираємо <tt>media -&gt; title</tt>;
</p>
<div class="box-images">
	<img alt="" onclick="zoomImg(this, 100)" src="/system/blog-images/tc_mrt_3.gif" style="cursor: pointer;" width="100"/>
</div>
<p>
	Зрозуміло, що в цьому варіанті ми витягнули інформацію із медіа-тегів, які ми тільки що заповнили. Якщо поритись в тому меню, там можна знайти багато цікавого, наприклад можна брати інформацію з EXIF-тегів у картинок, мета-інформацію файлів, хеш суми, і т.д.
</p>
<p>
	Ось і все - файли перейменовано, mp3-теги заповнено... Душа радіє що все так гарно :) А при гарній підготовці вся ця процедура займає не більше 5-ти хвилин! Ось результат:
</p>
<div class="box-images">
	<img alt="" onclick="zoomImg(this, 100)" src="/system/blog-images/music_conv_result.gif" style="cursor: pointer;" width="100"/>
</div>
<p>
	Надіюсь, що описані тут прийоми комусь знадобляться, а можливо хтось почне впорядковувати свою музичну бібліотеку :)
</p>
<p>
	P.S.
</p>
</div>
<div class="social-buttons">
<div class="fb-like" data-layout="button_count" data-send="false" data-width="120"></div>
<a class="twitter-share-button" data-hashtags="lukomorg" data-lang="uk" data-text="Впорядкування музики ч.2" data-url="http://lukom.org/blog/music-conv-routine" href="https://twitter.com/share">Tweet</a>
<div class="g-plusone" data-annotation="bubble" data-size="medium" data-width="120"></div>
<script>
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
  if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';
  fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
  
  window.___gcfg = {lang: 'uk'};
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
</div>

<div id="related_posts">
<div class="h2">Читайте також</div>
<ul>
<li><a href="/blog/cmd">Командний рядок - хитрості і трюки</a></li>
<li><a href="/blog/remote">Віддалене керування</a></li>
<li><a href="/blog/sql-columns-list">Список полей таблиці в MSSQL</a></li>
<li><a href="/blog/music-naming-conventions">Впорядкування музики ч.1</a></li>
<li><a href="/blog/kalendaryk-pynaryk">Календарик-пинарик</a></li>
</ul>
</div>
<div id="comments">
<div class="comments" id="comments_entries">
<div class="h2" style="display:none">Коментарі (<span>0</span>)</div>
</div>
</div>

<div class="fb-comments" data-href="http://lukom.org/blog/music-conv-routine" data-num-posts="5" data-width="510"></div>
</div>
</div>

</div>
<div class="primary-sidebar">
<div class="box">
<div class="box-title">Деякі дописи</div>
<div class="box-content">
<ul>
<li><a href="/blog/hexabble">Гексабл</a></li>
<li><a href="/blog/country-flags">Прапорці</a></li>
<li><a href="/blog/kalendaryk-pynaryk">Календарик</a></li>
<li><a href="/blog/months">Шпаргалка місяців</a></li>
<li><a target="_blank" href="simple-pages/utf8-table/1">Таблиця utf-8</a></li>
<li><a href="/blog/prykoly-skaipu">Приколи скайпу</a></li>
<li><a href="/blog/dovhi-anekdoty">Довгі анекдоти</a></li>
<li><a href="/blog/two-plus-two">2 + 2 = 5</a></li>
<li><a href="/blog/usi-trykutnyky-odynakovi">Однакові △</a></li>
</ul>
</div>
</div>
<div class="box">
<div class="box-title">Сторінки</div>
<div class="box-content">
<ul>
<li><a href="/pages/takaboni/1">Такабоні</a></li>
<li><a href="/pages/archive">Архів</a></li>
</ul>
</div>
</div>
<div class="box">
<div class="box-title">Цікаві сайти</div>
<div class="box-content">
<ul>
<li><a title="Українізація чужизмів" target="_blank" class="external" href="http://slovotvir.org.ua">Словотвір</a></li>
<li><a title="Український цитатник" target="_blank" class="external" href="http://ukrbash.org/">УкрБаш</a></li>
<li><a title="Український торент-трекер" target="_blank" class="external" href="http://hurtom.com/">Гуртом</a></li>
</ul>

</div>
</div>
<div class="box counters">
<div class="box-title">Подобається? Плюсуйте!</div>
<div class="box-content">
<div class="g-page" data-href="https://plus.google.com/106462298861442752735" data-rel="publisher" data-showcoverphoto="false" data-showtagline="false" data-width="215"></div>
</div>
</div>


</div>
</div>
</div>
<div class="footer">
<div class="page-wrap">
<div class="col">
<div class="footer-title">Останні дописи</div>
<ul>
<li><a href="/blog/site-news-100">Новини сайту 100</a></li>
<li><a href="/blog/site-news-100">Новини сайту 100</a></li>
<li><a href="/blog/usi-vybory-nechesni">Усі вибори нечесні</a></li>
<li><a href="/blog/suchasni-puzomirky">Сучасні пузомірки</a></li>
<li><a href="/blog/spdy-na-saiti">Поставив SPDY на сайт</a></li>
</ul>
</div>
</div>
</div>

</body>
</html>
