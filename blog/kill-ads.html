<!DOCTYPE html>
<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>Позбуваємось набридливої реклами на сайтах</title>
<meta content="Позбуваємось набридливої реклами на сайтах" itemprop="description" property="og:title">
<meta content="Я розкажу як можна позбутись всієї реклами і налаштувати вигляд сайту на свій смак" itemprop="name" name="description" property="og:description">
<meta content="http://lukom.org/blog/kill-ads" property="og:url">
<meta content="http://lukom.org/system/blog-images/ukrreferat_screen_preview.jpg" property="og:image">
<meta content="article" property="og:type">
<meta content="100001353345404" property="fb:admins">
<meta content="143733555820368" property="fb:app_id">
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="lW51i90Z62828qzYRL4kNfJxXRLhI1v0b6LxcHgPdD4rO9ch51+ZLSiBUvPxvQSR+txxcTWWPAOmLknhXdbGng==" />
<link href="/rss.xml" rel="alternate" title="Найсвіжіші новини на Lukom.Org" type="application/rss+xml">
<link href="/favicon.ico" rel="shortcut icon">
<link href="http://lukom.org/blog/kill-ads" rel="canonical">
<link rel="stylesheet" media="all" href="/assets/application-25a4f254c595ea81669b7489949b9a7f0df52f0374c53d0daf8af116d7c75e63.css" />


<script src="/assets/application-eded4902b2aa14be28bef0ed26fb2334e7f2fd1cb344acb9fffcb01b68a4bc14.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-19834031-1', 'lukom.org');
  ga('send', 'pageview');
</script>

<script async="async" src="https://apis.google.com/js/platform.js">
{lang: 'uk'}
</script>

</head>
<body>
<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=143733555820368";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>
<div class="header-toolbar">
<div class="page-wrap">
<ul>
<li><a href="/">Головна</a></li>
<li><a href="/pages/author">Автор</a></li>
</ul>
</div>
</div>
<div class="header">
<div class="page-wrap">
<div class="logo">
<div class="logo-text">Вперед і вгору!</div>
<div class="logo-subtext">блог Лукома</div>
</div>
<div class="about-author">
<div class="author-speak">
Привіт, мене звати Лев Лукомський
<br/> я займаюсь розробкою веб-сайтів та ігор
<br/> ..і записую в блог все що взбреде в голову :)
<a href="/pages/author">Автор</a>
</div>
<div class="follow-links">
<a class="rss-big-link" target="_blank" href="/rss.xml">RSS</a>
</div>
<div class="contacts-links">
<a title="Джмейл" class="gmail ico" href="mailto:lllukom@gmail.com">Gmail</a>
<a title="Цукердрук" class="facebook ico" target="_blank" href="https://www.facebook.com/llukomsky">Facebook</a>
</div>
</div>
</div>
</div>
<div class="main-menu">
<div class="page-wrap">
<ul>
<li><a href="/category/rozrobka">Розробка (22)</a></li>
<li><a href="/category/tsikavynky">Цікавинки (12)</a></li>
<li><a href="/category/veseloshchi">Веселощі (14)</a></li>
<li><a href="/category/rizne">Різне (53)</a></li>
<li>
<a href="/category/novyny-saitu">Новини сайту</a>
</li>
</ul>
</div>
</div>

<div class="torso">
<div class="page-wrap">
<div class="page-content">
<div class="flash-messages">
</div>

<div class="box main-box post rizne">
<h1 class="box-title">Позбуваємось набридливої реклами на сайтах</h1>
<div class="box-content">
<div class="post-meta">
<span class="link category-link">
<a href="/category/rizne">Різне</a>
</span>
<span class="link tag-link">Firefox, Плагіни, Userstyle, Userscript, Лайфхаки</span>
<span class="link date-link">2009.10.07</span>
<span class="link edited-link">Відредаговано: 2016.05.15</span>
</div>
<div class="post-content"><p>Бувають такі сайти, хороші сайти, на які час від часу заходиш, але на них багато всякої реклами. Звісно люди вже привчились не звертати на неї уваги, але всеодно вона нервує, відволікає увагу і зменшує швидкість завантаження сторінки. Я розкажу як можна позбутись всієї реклами і налаштувати вигляд сайту на свій смак. Мій спосіб дійсний тільки для браузера <em>Firefox</em>, з використанням розширень <strong>Stylish</strong> і <strong>Greasemonkey</strong>. Крім того потрібно трохи знати CSS і можливо Javascript.</p>

<p>&nbsp;</p>

<p>Для прикладу візьмемо сайт <strong>ukrreferat.com</strong> &ndash; найбільша колекція рефератів, як студент я там часто шукав реферати, але сайт на 70% складається з реклами. Ось, полюбуйтесь:</p>

<p>&nbsp;</p>

<div class="box-images"><a class="preview-image" href="/system/blog-images/ukrreferat_screen.gif" title="Набридлива реклама на сайті"><img alt="" class="photo-image" src="/system/blog-images/ukrreferat_screen_preview.jpg" style="height:113px; width:200px" /></a></div>

<p>Мало того, при переході між сторінками з&#39;являється ось таке набридливе повідомлення:</p>

<div class="box-images"><a class="preview-image" href="/system/blog-images/ukreferat_stupid_confirm.gif" title="Набридливе повідомлення"><img alt="" class="photo-image" src="/system/blog-images/ukreferat_stupid_confirm_preview.jpg" style="height:47px; width:200px" /></a></div>

<p>А нам від сайту потрібно всього лиш пошук рефератів, перегляд знайдених рефератів і можливість скачати. Отож приступимо до зачистки сайту.</p>

<p>Для цього використаємо розширення для Firefox`а</p>

<ul>
	<li><strong>Stylish </strong>- дозволяє застосувати до сайту свою css`ку, так званий <strong>userstyle</strong>. Ці стилі накладаються поверх існуючих стилів.</li>
	<li><strong>Greasemonkey </strong>- дозволяє застосувати до сайту свою js`ку, так званий <strong>userscript</strong>. Цей скрипт спрацьовує після повного завантаження сторінки.</li>
</ul>

<p>Тепер залишається:</p>

<p>1. створити новий userstyle для цього сайту і для блоків з рекламою прописати &quot;display: none&quot;. Щоб взнати як добратись блоків з рекламою використовуємо <strong>firebug </strong>і його чарівну функцію <em>inspect </em>( <kbd>ctrl</kbd> + <kbd>shift</kbd> + <kbd>c</kbd> ). Ось який скрипт вийшов у мене:</p>

<pre>
@namespace url(http://www.w3.org/1999/xhtml);

@-moz-document domain(&quot;ukrreferat.com&quot;) {
  body &gt; center &gt; center &gt; table,
  body &gt; center &gt; center &gt; center &gt; table + table,
  body &gt; center &gt; center &gt; center &gt; table &gt; tbody &gt; tr &gt; td:first-child,
  body &gt; center &gt; center &gt; center &gt; table &gt; tbody &gt; tr &gt; td:last-child,
  iframe,
  h1 {
    display: none;
  }
}</pre>

<p>Усі свої стилі прописуємо у правилі @-moz-document, а в селекторі domain прописуємо адресу сайту без &quot;www&quot;, в такому разі стиль буде діяти на адресу з і без приставки &quot;www&quot;. Тестувати стиль на кожному кроці зручно кнопкою Preview:</p>

<div class="box-images"><a class="preview-image" href="/system/blog-images/stylish_preview.gif" title="Редагування стилю в Stylish"><img alt="" class="photo-image" src="/system/blog-images/stylish_preview_preview.jpg" style="height:133px; width:200px" /></a></div>

<p>Після застосування стилю отримуємо такий чистенький сайт:</p>

<div class="box-images"><a class="preview-image" href="/system/blog-images/ukrreferat_without_ads.gif" title="Сайт без нічого лишнього :)"><img alt="" class="photo-image" src="/system/blog-images/ukrreferat_without_ads_preview.jpg" style="height:113px; width:200px" /></a></div>

<p>2. Створити userscript щоб позбутись набридливого повідомлення. Повідомлення з&#39;являється при покиданні сторінки, отже логічно, що скрипт викликається із обробника події <em>onunload</em>. Дивимось в <em>body </em>- дійсно, так і є! Забираємо цей атрибут. В мене вийшов такий скрипт:</p>

<pre>
// ==UserScript==
// @author         lukom
// @version        1.0
// @name           ukrreferat.com fixer
// @namespace      http://lukom.org/
// @description    Turns off annoying confirm dialog on page unload event.
// @include        http://ukrreferat.com/*
// @include        http://www.ukrreferat.com/*
// @scriptsource   http://lukom.org/system/files/ukrreferat.com_fixer_1.0.user.js
// ==/UserScript==

document.body.setAttribute(&#39;onunload&#39;, &#39;&#39;);</pre>

<p>Ось і все. На створення цих стилів і скриптів пішло 5-10 хвилин, зате тепер сайт став досить приємним на вигляд і тепер реклама не забирає наших нервів/уваги/трафіку.</p>
</div>
<div class="social-buttons">
<div class="fb-like" data-layout="button_count" data-send="false" data-width="120"></div>
</div>

<div id="related_posts">
<div class="h2">Читайте також</div>
<ul>
<li><a href="/blog/firefox">Про FireFox</a></li>
<li><a href="/blog/few-hacks-for-win">Декілька хитростей для Windows</a></li>
<li><a href="/blog/cmd">Командний рядок - хитрості і трюки</a></li>
<li><a href="/blog/ukr-keyb-layout">Українська розкладка клавіатури</a></li>
<li><a href="/blog/sql-columns-list">Список полей таблиці в MSSQL</a></li>
</ul>
</div>
<div id="comments">
<div class="comments" id="comments_entries">
<div class="h2">Коментарі (<span>1</span>)</div>
<div class="comment" id="comment_628">
<div class="comment-meta">
<div class="avatar"><img alt="" src="https://secure.gravatar.com/avatar/d3efb9ddfe8284bcf03ac49d6538d9a4.jpg?size=32&amp;default=wavatar&amp;rating=g" width="32" height="32" /></div>
<div class="author">mr.petruccio</div>
<div class="date">2009.10.08</div>
<div class="browser">
<img alt="firefox" title="firefox" src="/assets/icons/browsers/firefox-a656a35645e76eeb7a4602c8b353f910266a5825baab2bb92683d43f9cc2598a.png" width="16" height="16" />
</div>
</div>
<div class="comment-content">Прикольно, просто, швидко, зручно. Я також в себе в фаєрфоксі Greasemonkey використовую, є багато скриптів, які спрощують роботу в інтернеті.</div>
</div>

</div>
</div>

<div class="fb-comments" data-href="http://lukom.org/blog/kill-ads" data-num-posts="5" data-width="510"></div>
</div>
</div>

</div>
<div class="primary-sidebar">
<div class="box">
<div class="box-title">Деякі дописи</div>
<div class="box-content">
<ul>
<li><a href="/blog/hexabble">Гексабл</a></li>
<li><a href="/blog/country-flags">Прапорці</a></li>
<li><a href="/blog/kalendaryk-pynaryk">Календарик</a></li>
<li><a href="/blog/months">Шпаргалка місяців</a></li>
<li><a target="_blank" href="/simple-pages/utf8-table/1">Таблиця utf-8</a></li>
<li><a href="/blog/prykoly-skaipu">Приколи скайпу</a></li>
<li><a href="/blog/dovhi-anekdoty">Довгі анекдоти</a></li>
<li><a href="/blog/two-plus-two">2 + 2 = 5</a></li>
<li><a href="/blog/usi-trykutnyky-odynakovi">Однакові △</a></li>
</ul>
</div>
</div>
<div class="box">
<div class="box-title">Сторінки</div>
<div class="box-content">
<ul>
<li><a href="/pages/takaboni/1">Такабоні</a></li>
<li><a href="/pages/archive">Архів</a></li>
</ul>
</div>
</div>
<div class="box">
<div class="box-title">Цікаві сайти</div>
<div class="box-content">
<ul>
<li><a title="Українізація чужизмів" target="_blank" class="external" href="http://slovotvir.org.ua">Словотвір</a></li>
<li><a title="Український цитатник" target="_blank" class="external" href="http://ukrbash.org/">УкрБаш</a></li>
<li><a title="Український торент-трекер" target="_blank" class="external" href="http://hurtom.com/">Гуртом</a></li>
</ul>

</div>
</div>


</div>
</div>
</div>
<div class="footer">
<div class="page-wrap">
<div class="col">
<div class="footer-title">Останні дописи</div>
<ul>
<li><a href="/blog/vidrodzhennia-blohu">Новорічні резолюції — відродження блогу</a></li>
<li><a href="/blog/site-news-101">Новини сайту 101</a></li>
<li><a href="/blog/site-news-100">Новини сайту 100</a></li>
<li><a href="/blog/usi-vybory-nechesni">Усі вибори нечесні</a></li>
<li><a href="/blog/suchasni-puzomirky">Сучасні пузомірки</a></li>
</ul>
</div>
</div>
</div>

</body>
</html>
